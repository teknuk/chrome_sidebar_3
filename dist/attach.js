"use strict";function attachHeadersListener(e){var r=e.declarativeNetRequest,s=e.hosts,t=e.iframeHosts,i=e.overrideFrameOptions;if("string"!=typeof s){if(!s)throw new Error("`hosts` option must be a string or array");s=s.join(" ")}if("string"!=typeof t){if(!t)throw new Error("`iframeHosts` option must be a string or array");t=t.join(" ")}var a=["main_frame"];i&&a.push("sub_frame"),r.updateDynamicRules({removeRuleIds:[513,531],addRules:[{id:513,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"content-security-policy",operation:"set",value:"default-src 'self'; script-src 'self' "+s+"; style-src 'self' "+s+"; frame-src 'self' "+t+"; child-src 'self' "+s+";"}]},condition:{urlFilter:s.split(" ").map(function(e){return"*://"+e+"/*"}).join(", "),resourceTypes:["main_frame"]}},{id:531,priority:2,action:{type:"modifyHeaders",responseHeaders:[{header:"content-security-policy",operation:"set",value:"default-src 'self'; script-src 'self' "+s+"; style-src 'self' "+s+"; frame-src 'self' "+t+"; child-src 'self' "+s+";"}]},condition:{urlFilter:t.split(" ").map(function(e){return"*://"+e+"/*"}).join(", "),resourceTypes:["sub_frame"]}}]},function(){})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.attachHeadersListener=attachHeadersListener,exports.default={attachHeadersListener:attachHeadersListener};